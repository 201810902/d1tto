<!doctype html>
<html lang="ko-KR"></html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="../js/common/common.js" type="module"></script>
    <link rel="stylesheet" href="../css/main.css"/>
    <script src="../js/pages/map.js"></script>
    <title>LION PLACE - map</title>

  </head>
  <body>
    <section class=" w-full map_Wrap">
     <!-- <h3 class="a11yHidden">지도</h3> -->
          <div class="map__bar py-3 flex justify-between -bg--lion-white">
            <div
              type="button"
              class="block w-[30px] h-[30px]"
              aria-label="뒤로 가기 버튼"
              onclick="history.back()" 
            ><img class="h-[30px] w-[30px]" src="../assets/icons/Icon/icon-left.svg"></div> 
            <span class="-text--lion-paragraph-medium -text--lion-contents-content-primary block leading-[30px] absolute left-[30px] top-[14px]">연남/합정 데이트</span>
            <button type="button" class="absolute right-[30px] -text--lion-label-small border-[0.5px] rounded-[50px] px-2 py-1 -border--lion-contents-content-primary">임시저장</button>
            <button type="button" class="button w-[28px] h-[28px] more__Button bg-[url('../assets/icons/Icon/icon-more.svg')]"></button>
          </div>

    <!-- 지도를 표시할 div 입니다 -->
    <div class="mapWrapper relative">
    <div class="h-full" id="map" style="width: 100%; height: 700px"></div>
          <!-- 현재 위치로 가기 버튼-->
          <button id="roadViewBtn" class="roadView__button bg-[url('../assets/icons/Icon/present.svg')] fixed z-10 w-[33px] h-[30px] right-[20px] top-[71px]"></button>
          <!--지도 확대 축소 버튼-->
          <div class="custom_zoomcontrol radius_border flex flex-col gap-0"> 
            <button class="fixed left-[280px] top-[540px] w-[30px] h-[30px] shadow p-1  z-10 rounded-t-lg -bg--lion-white" onclick="zoomIn()" ><img src="../assets/icons/Icon/icon-plus.svg" alt="확대" /></button>  
            <button class="fixed w-[30px] h-[30px] left-[280px] top-[570px] shadow p-1 rounded-b-lg -bg--lion-white z-10" onclick="zoomOut()" ><img src="../assets/icons/Icon/icon-minus.svg" alt="축소" /></button>
        </div>
        </div>
  </section>
  <nav class="footerNav">
    <h2 class="footerNav__title sr-only">하단 내비게이션</h2>
    <ul class="footerNav__list flex h-[67px] justify-around -bg--lion-white">
      <li
        class="footer__item flex items-center border-t-[2px] border-transparent px-[7px] hover:border-t-[2px] hover:-border--lion-black"
      >
        <a href="" class="footerNav__item__link"
          ><div class="footerNav__item__wrapper flex h-[24px] items-center">
            <img
              src="../assets/icons/Icon/btnMap_common.svg"
              alt=""
              class="footerNav__item__icon mx-[auto]"
            />
          </div>
          <span class="footerNav__item__title">지도</span></a
        >
      </li>
      <li
        class="footer__item flex items-center border-t-[2px] border-transparent px-[7px] hover:border-t-[2px] hover:-border--lion-black"
      >
        <a href="" class="footerNav__item__link"
          ><div class="footerNav__item__wrapper flex h-[24px] items-center">
            <img
              src="../assets/icons/Icon/btnSave_common.svg"
              alt=""
              class="footerNav__item__icon mx-[auto]"
            />
          </div>
          <span class="footerNav__item__title">저장</span></a
        >
      </li>
      <li
        class="footer__item flex items-center border-t-[2px] border-transparent px-[7px] hover:border-t-[2px] hover:-border--lion-black"
      >
        <a href="" class="footerNav__item__link"
          ><div class="footerNav__item__wrapper flex h-[24px] items-center">
            <img
              src="../assets/icons/Icon/btnTransportation_common.svg"
              alt=""
              class="footerNav__item__icon mx-[auto]"
            />
          </div>
          <span class="footerNav__item__title">대중교통</span></a
        >
      </li>
      <li
        class="footer__item flex items-center border-t-[2px] border-transparent px-[7px] hover:border-t-[2px] hover:-border--lion-black"
      >
        <a href="" class="footerNav__item__link">
          <div class="footerNav__item__wrapper flex h-[24px] items-center">
            <img
              src="../assets/icons/Icon/btnNavi_common.svg"
              alt=""
              class="footerNav__item__icon mx-[auto]"
            />
          </div>
          <span class="footerNav__item__title">내비게이션</span></a
        >
      </li>
      <li
        class="footer__item flex items-center border-t-[2px] border-transparent px-[7px] hover:border-t-[2px] hover:-border--lion-black"
      >
        <a href="" class="footerNav__item__link">
          <div class="footerNav__item__wrapper flex h-[24px] items-center">
            <img
              src="../assets/icons/Icon/btnMy_common.svg"
              alt=""
              class="footerNav__item__icon mx-[auto]"
            />
          </div>
          <span class="footerNav__item__title">MY</span></a
        >
      </li>
    </ul>
  </nav>
    <script
      type="text/javascript"
      src="//dapi.kakao.com/v2/maps/sdk.js?appkey=abee49736c9627769f79d3d80e3fffe5"
    ></script>
      <script>
      let mapContainer = document.getElementById('map'), // 지도를 표시할 div 
        mapOption = { 
        center: new kakao.maps.LatLng(37.5519, 126.9148), // 지도의 중심좌표
        level: 4 // 지도의 확대 레벨
        };

  // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
     var map = new kakao.maps.Map(mapContainer, mapOption); 
    //  var imageSrc = './../assets/icons/Icon/markerImg1.svg', // 마커이미지의 주소입니다    
    // imageSize = new kakao.maps.Size(24, 24), // 마커이미지의 크기입니다
    // imageOption = {offset: new kakao.maps.Point(24, 24)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.
      
    // 지도에 로드뷰 정보가 있는 도로를 표시하도록 지도타입을 추가합니다
    function addRoadview(){ 
      map.addOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW);    
    }

  // 아래 코드는 위에서 추가한 로드뷰 도로 정보 지도타입을 제거합니다
    function removeRoadview() {
      map.removeOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW); 
    }   

    // var count=0;
    // function increase() {
    //   count=count+1;
    //   document.querySelector("roadViewBtn").innerText=count;
    //   return count;
    // }
    let count=0
    let roadviewButton=document.querySelector('roadViewBtn');
    roadViewBtn.addEventListener('click', function(){
      count+=1;
      return count;
      console.log(count);
    })

    function roadView(count) {
        if(count%2 ===0){
          addRoadview()
        }else{
          removeRoadview()
        }
        console.log(count);
      }
      
  
      //마커 생성부분
    var positions = [
      {
        title: '홍대 디디치',
          latlng: new kakao.maps.LatLng(37.5540, 126.9135),
          image: '../assets/icons/Icon/markerImg1.svg'
      },
      {
      title: 'HOTMESS',
      latlng: new kakao.maps.LatLng(37.5565, 126.9165),
      image:'../assets/icons/Icon/markerImg2.svg'
      }];
// // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다
// var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),
//     markerPosition = new kakao.maps.LatLng(37.5540, 126.9135); // 마커가 표시될 위치입니다

// 마커를 생성합니다
for(var i=0; i<positions.length; i++){

  //마커이미지 크기
  var imageSize = new kakao.maps.Size(24,35);

  //마커 이미지 생성
  var markerImage=new kakao.maps.MarkerImage(positions[i].image, imageSize);

  var marker = new kakao.maps.Marker({
      map:map,
      position: positions[i].latlng, 
      title:positions[i].title,
      image: markerImage // 마커이미지 설정 
  });

// 커스텀 오버레이가 표시될 위치입니다 
  var position = positions[i].latlng;  

  // 커스텀 오버레이를 생성합니다
  var customOverlay = new kakao.maps.CustomOverlay({
      map: map,
      position: position,
      content: content,
      yAnchor: 1 
  });
}
// 커스텀 오버레이에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
var content = '<div class="customoverlay">' +
    '  <a href="https://map.kakao.com/link/map/11394059" target="_blank">' +
    '    <span class="title">구의야구공원</span>' +
    '  </a>' +
    '</div>';



// 마커가 지도 위에 표시되도록 설정합니다
  marker.setMap(map);  
    </script>
    </section>
  </body>
</html>